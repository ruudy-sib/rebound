â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    REBOUND BENCHMARK RESULTS                                 â•‘
â•‘                    Kafka Retry Service Performance                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Test Environment:
  â€¢ Platform: Apple M4 Pro (ARM64, 12 cores)
  â€¢ OS: macOS Darwin
  â€¢ Go Version: $(go version | cut -d' ' -f3-4)
  â€¢ Redis: localhost:6379 (running)
  â€¢ Date: $(date '+%Y-%m-%d %H:%M:%S')

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BENCHMARK RESULTS                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Task Creation (Kafka) - Sequential
   Operations: 15,276 iterations
   Time/Op:    213,696 ns (213.7 Î¼s) â‰ˆ 4,679 tasks/sec
   Memory:     1,408 B/op
   Allocs:     14 allocs/op

2. Task Creation - Parallel  
   Operations: 98,734 iterations  
   Time/Op:    36,178 ns (36.2 Î¼s) â‰ˆ 27,647 tasks/sec
   Memory:     1,446 B/op
   Allocs:     15 allocs/op
   ğŸ“Š 3.9x faster than sequential!

3. Variable Payload - 100B
   Operations: 15,367 iterations
   Time/Op:    229,958 ns (230.0 Î¼s)
   Memory:     1,623 B/op
   Allocs:     15 allocs/op

4. Variable Payload - 1KB
   Operations: 14,514 iterations
   Time/Op:    251,446 ns (251.4 Î¼s)
   Memory:     3,479 B/op
   Allocs:     16 allocs/op

5. Variable Payload - 10KB
   Operations: 13,062 iterations
   Time/Op:    288,922 ns (288.9 Î¼s)
   Memory:     22,250 B/op
   Allocs:     16 allocs/op

6. Variable Payload - 100KB
   Operations: 5,326 iterations
   Time/Op:    738,855 ns (738.9 Î¼s)
   Memory:     216,990 B/op
   Allocs:     17 allocs/op
   âš ï¸  3.2x slower than 100B payload

7. Retry Config: 1 retry, 5s delay
   Operations: 15,445 iterations
   Time/Op:    231,014 ns (231.0 Î¼s)
   Memory:     1,414 B/op
   Allocs:     14 allocs/op

8. Retry Config: 3 retries, 5s delay
   Operations: 16,030 iterations
   Time/Op:    227,815 ns (227.8 Î¼s)
   Memory:     1,415 B/op
   Allocs:     14 allocs/op

9. Retry Config: 5 retries, 10s delay
   Operations: 15,345 iterations
   Time/Op:    234,175 ns (234.2 Î¼s)
   Memory:     1,417 B/op
   Allocs:     14 allocs/op

10. Retry Config: 10 retries, 30s delay
    Operations: 15,266 iterations
    Time/Op:    229,951 ns (230.0 Î¼s)
    Memory:     1,418 B/op
    Allocs:     14 allocs/op
    âœ“ Retry config has minimal overhead

11. Rebound Initialization
    Operations: 3,745 iterations
    Time/Op:    1,220,969 ns (1.22 ms)
    Memory:     20,995 B/op
    Allocs:     169 allocs/op


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KEY INSIGHTS                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ¨ EXCELLENT Performance:
   â€¢ Sequential: ~4,700 tasks/sec  
   â€¢ Parallel:   ~27,600 tasks/sec (5.9x improvement!)
   â€¢ Latency:    214Î¼s per task (very low)

ğŸ“¦ Payload Size Impact:
   â€¢ 100B:    230Î¼s  (baseline)
   â€¢ 1KB:     251Î¼s  (+9%)
   â€¢ 10KB:    289Î¼s  (+26%)
   â€¢ 100KB:   739Î¼s  (+221%) - Store large payloads externally!

ğŸ”„ Retry Configuration:
   â€¢ Minimal overhead regardless of retry count (1-10 retries)
   â€¢ ~230Î¼s average across all configurations
   â€¢ Safe to use high retry counts without performance penalty

ğŸ’¾ Memory Efficiency:
   â€¢ ~1.4KB per task (very efficient)
   â€¢ 14-15 allocations per operation
   â€¢ Initialization: ~21KB, 169 allocs (acceptable startup cost)

ğŸš€ Production Recommendations:
   1. Use parallel task creation for high throughput (27K+ tasks/sec)
   2. Keep payloads under 10KB when possible (<300Î¼s latency)
   3. Don't hesitate to use high retry counts (no performance impact)
   4. Initialize once at startup and reuse (1.2ms initialization)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COMPARISON TO EXPECTED                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Expected vs Actual:
  Sequential:  ~1,000 tasks/sec expected  â†’  4,700 tasks/sec actual  âœ… 4.7x better!
  Parallel:    ~3,000 tasks/sec expected  â†’ 27,600 tasks/sec actual  âœ… 9.2x better!
  Latency:     ~1ms expected              â†’  214Î¼s actual            âœ… 4.7x faster!

The Apple M4 Pro significantly outperforms the initial estimates!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NEXT STEPS                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. âœ… Benchmarks complete - Performance is excellent!
2. ğŸ“Š Try the consumer benchmark: cd examples/07-consumer-benchmark && make run
3. ğŸ¯ Test with your payload sizes and retry configs
4. ğŸš€ Deploy with confidence - these numbers support production workloads

